const _0x18011a=_0x13af;(function(_0x30eb70,_0x2af9c1){const _0x5600ba=_0x13af,_0x4f3974=_0x30eb70();while(!![]){try{const _0x14e86f=-parseInt(_0x5600ba(0x10f))/0x1*(parseInt(_0x5600ba(0xd1))/0x2)+parseInt(_0x5600ba(0x127))/0x3+-parseInt(_0x5600ba(0xdf))/0x4*(-parseInt(_0x5600ba(0x130))/0x5)+-parseInt(_0x5600ba(0x137))/0x6*(-parseInt(_0x5600ba(0xda))/0x7)+parseInt(_0x5600ba(0x110))/0x8*(-parseInt(_0x5600ba(0xef))/0x9)+-parseInt(_0x5600ba(0x124))/0xa*(parseInt(_0x5600ba(0xfb))/0xb)+parseInt(_0x5600ba(0x115))/0xc*(parseInt(_0x5600ba(0x12f))/0xd);if(_0x14e86f===_0x2af9c1)break;else _0x4f3974['push'](_0x4f3974['shift']());}catch(_0x395a19){_0x4f3974['push'](_0x4f3974['shift']());}}}(_0x2368,0xa0efa));const ICON_LIST_SM={'剣':'icon_ken_sm','大剣':'icon_dken_sm','斧':'icon_ono_sm','小剣':'icon_sken_sm','槍':'icon_yari_sm','弓':_0x18011a(0x11b),'棍棒':_0x18011a(0x107),'体術':_0x18011a(0x135),'銃':_0x18011a(0xe4),'杖':_0x18011a(0x129),'斬':_0x18011a(0xe0),'突':'icon_totsu','打':_0x18011a(0xd8),'熱':_0x18011a(0xe2),'冷':_0x18011a(0xf9),'雷':'icon_rai','陰':'icon_in','陽':'icon_yo'};$(document)[_0x18011a(0x125)](function(_0x904672){const _0x279f1b=_0x18011a;let _0x27c8a7={};for(let _0x5633cf in BUFF_RANKING_DATA[_0x279f1b(0x10d)]){for(let _0x461a22 in BUFF_RANKING_DATA[_0x279f1b(0x10d)][_0x5633cf]){for(let _0x517d7b in BUFF_RANKING_DATA[_0x279f1b(0x10d)][_0x5633cf][_0x461a22]){for(let _0x2ebda5 in BUFF_RANKING_DATA[_0x279f1b(0x10d)][_0x5633cf][_0x461a22][_0x517d7b]){_0x27c8a7[_0x2ebda5]??=0x0,_0x27c8a7[_0x2ebda5]++;}}}}for(let _0x1e3a8f in BUFF_RANKING){if(_0x1e3a8f>0x32)break;const _0x184a25=STYLE_MASTER[BUFF_RANKING[_0x1e3a8f]['id']];addCard(_0x184a25);}});function addCard(_0x3493a2,_0x3df208=0x0){const _0x173a8b=_0x18011a;$card=$(_0x173a8b(0xe9))[_0x173a8b(0xfc)](),charInfo=CHAR_MASTER[_0x3493a2['CharacterId']],$card['attr']('char-id',charInfo['Id']),$card['addClass'](_0x173a8b(0xd6)+charInfo[_0x173a8b(0xcf)]),$card[_0x173a8b(0x104)](_0x173a8b(0x102)+_0x3493a2['WeaponType']);let _0x4c6e97=[];for(let _0x1ab126 in _0x3493a2[_0x173a8b(0x101)]){if(BUFF_ABILITY_MASTER[_0x3493a2[_0x173a8b(0x101)][_0x1ab126]]==undefined)continue;let _0x15281b=BUFF_ABILITY_MASTER[_0x3493a2['StyleAbilityIds'][_0x1ab126]],_0x10f166=filterAbilityCategory(_0x15281b);for(let _0x377336=_0x10f166[_0x173a8b(0x105)]-0x1;_0x377336>=0x0;_0x377336--){const _0x4c9147=_0x10f166[_0x377336];if(_0x4c9147[_0x173a8b(0xf5)]!=_0x173a8b(0x10b))continue;const _0x259593=maskId(filterNumber(_0x4c9147[_0x173a8b(0x11f)][_0x173a8b(0x13f)]('>')[0x0]));let _0x18f297=BUFF_ABILITY_MASTER[_0x259593];const _0x34c627=filterAbilityCategory(_0x18f297,_0x4c9147[_0x173a8b(0x10c)]['includes'](_0x173a8b(0xfd)));_0x34c627[_0x173a8b(0x105)]>0x0?(_0x18f297[_0x173a8b(0x11d)]=_0x34c627,_0x4c6e97[_0x173a8b(0x132)](_0x18f297)):_0x10f166[_0x173a8b(0xe7)](_0x377336,0x1);}_0x10f166[_0x173a8b(0x105)]>0x0&&(_0x15281b[_0x173a8b(0x11d)]=_0x10f166,_0x4c6e97[_0x173a8b(0x132)](_0x15281b));}for(const _0x16234f of _0x4c6e97){let _0x253619=$(_0x173a8b(0x131))[_0x173a8b(0xfc)]()['removeAttr']('id')[_0x173a8b(0xf7)](_0x173a8b(0xe1));_0x253619[_0x173a8b(0xf4)]('.AB_ICON')['append'](getAbilityIcon(_0x16234f[_0x173a8b(0x106)]??_0x173a8b(0x12d),'xs')),_0x253619['find'](_0x173a8b(0x120))[_0x173a8b(0x139)](_0x16234f[_0x173a8b(0x12c)]);for(attr of _0x16234f[_0x173a8b(0x11d)]){if(attr==undefined)continue;categoryTmpl=_0x253619['find'](_0x173a8b(0x12e))['clone']()[_0x173a8b(0xf7)](_0x173a8b(0x136))['addClass']('d-flex');const _0x307980=attr['sub'][_0x173a8b(0xf0)]('腕力','腕')[_0x173a8b(0xf0)]('体力','体力')[_0x173a8b(0xf0)](_0x173a8b(0xee),'速')[_0x173a8b(0xf0)](_0x173a8b(0x126),'器')['replace']('知力','知')[_0x173a8b(0xf0)]('精神','精')[_0x173a8b(0xf0)]('魅力','魅')[_0x173a8b(0xd3)]('と',''),_0xb4cd3a=attr[_0x173a8b(0x11f)][_0x173a8b(0xf0)](attr[_0x173a8b(0x10c)],'')[_0x173a8b(0xf0)](_0x173a8b(0x119),''),_0x29993e=attr[_0x173a8b(0xfa)][_0x173a8b(0xf0)](_0x173a8b(0x111),'装備時');categoryTmpl[_0x173a8b(0xf4)](_0x173a8b(0xdd))[_0x173a8b(0x139)]('['+_0x29993e+']'),categoryTmpl[_0x173a8b(0xf4)](_0x173a8b(0xd5))[_0x173a8b(0x139)](attr[_0x173a8b(0xf5)]),categoryTmpl[_0x173a8b(0xf4)](_0x173a8b(0x13b))[_0x173a8b(0x139)](_0x307980),categoryTmpl[_0x173a8b(0xf4)]('.SIZE')['append'](_0xb4cd3a),_0x253619['find'](_0x173a8b(0xe5))[_0x173a8b(0x139)](categoryTmpl);}$card[_0x173a8b(0xf4)]('.AB_AREA')['append'](_0x253619);}$card[_0x173a8b(0xe6)]('id','')[_0x173a8b(0xf7)](_0x173a8b(0xe1));let _0x2e7297=getStyleIcon(_0x3493a2[_0x173a8b(0xf8)],_0x3493a2['Id'],_0x3493a2[_0x173a8b(0xde)],!![]);$card[_0x173a8b(0xf4)](_0x173a8b(0xd4))['append'](_0x2e7297),$card['find']('.NAME')[_0x173a8b(0x139)](_0x3493a2['Name']),$card[_0x173a8b(0xf4)](_0x173a8b(0xd7))[_0x173a8b(0x139)](_0x3493a2[_0x173a8b(0xd2)]);let _0xa89c4c=0x0;const _0x5f1526=BUFF_RANKING_DATA?.[_0x173a8b(0x10d)]?.[_0x3493a2['Id']]?.['1T']?.[_0x173a8b(0x13d)]??[];_0xa89c4c+=_0x5f1526['全']??0x0,$card['find'](_0x173a8b(0x123))['append']('<div\x20class=\x22fuchidori-blue\x22>全:'+(_0x5f1526['全']??0x0)+_0x173a8b(0x12a));for(const _0x3d2a1d in _0x5f1526){if(_0x3d2a1d=='全')continue;let _0x47ac82=FILTER[_0x173a8b(0xff)](_0x3d2a1d)?_0x173a8b(0x118):'';if(_0x47ac82==''){if(_0x3d2a1d['includes'](_0x173a8b(0x13e))){let _0x7468fb=_0x3d2a1d[_0x173a8b(0xf0)]('エクストラフォース','');_0x7468fb+=_0x7468fb==_0x173a8b(0x116)?'攻撃':'',_0x47ac82=FILTER[_0x173a8b(0xff)](_0x7468fb)?_0x173a8b(0x118):'';}else{if(_0x3d2a1d['includes']('・'))for(a of _0x3d2a1d['split']('・')){if(FILTER[_0x173a8b(0xff)](a)){_0x47ac82=_0x173a8b(0x118);break;}}}}let _0x326234=_0x3d2a1d[_0x173a8b(0xf0)]('攻撃','')[_0x173a8b(0xf0)]('時','')[_0x173a8b(0xf0)](_0x173a8b(0x13e),_0x173a8b(0xe8));if(ICON_LIST_SM[_0x3d2a1d]){let _0x11fd7c=getImgPath('icon/'+ICON_LIST_SM[_0x3d2a1d]+_0x173a8b(0x13a));_0x326234=_0x173a8b(0xdb)+_0x11fd7c+_0x173a8b(0xfe);}let _0x5347c3=_0x5f1526[_0x3d2a1d];!_0x3d2a1d[_0x173a8b(0xff)](_0x173a8b(0x13e))?_0x47ac82!=''&&(_0xa89c4c+=_0x5f1526[_0x3d2a1d]):_0x5347c3=_0x5f1526[_0x3d2a1d]+0x1+'倍',$card[_0x173a8b(0xf4)](_0x173a8b(0x123))['append'](_0x173a8b(0x112)+_0x47ac82+'\x22>'+_0x326234+':'+_0x5347c3+_0x173a8b(0x12a));}$card['find'](_0x173a8b(0xed))[_0x173a8b(0x139)](_0xa89c4c);_0x3df208>0x0&&$card['find'](_0x173a8b(0x140))[_0x173a8b(0x139)](_0x3df208['toLocaleString']()+'pt');const _0x27238=BUFF_RANKING_DATA?.[_0x173a8b(0x108)]?.[_0x3493a2['Id']]?.[0x1]?.['ターン開始時']??[];if(Object[_0x173a8b(0x103)](_0x27238)['length']>0x0)for(const _0x3e3cb9 in _0x27238){$card[_0x173a8b(0xf4)]('.BUFF_VALUE')[_0x173a8b(0x139)](_0x3e3cb9+':'+_0x27238[_0x3e3cb9]+_0x173a8b(0x11c));}else $card['find'](_0x173a8b(0xeb))[_0x173a8b(0x104)]('d-none');$('#RANKING_AREA')[_0x173a8b(0x139)]($card['clone']());}function _0x13af(_0xefc262,_0x25a076){const _0x2368ff=_0x2368();return _0x13af=function(_0x13afd3,_0x558ecd){_0x13afd3=_0x13afd3-0xcf;let _0xc99c8=_0x2368ff[_0x13afd3];return _0xc99c8;},_0x13af(_0xefc262,_0x25a076);}function filterAbilityCategory(_0x1392d8,_0x158ce5=![]){const _0x96ade6=_0x18011a;$MAINS=[_0x96ade6(0xdc),_0x96ade6(0xe3),'全員強化(バフ)',_0x96ade6(0xec),_0x96ade6(0x114),_0x96ade6(0x10b)];_0x158ce5&&$MAINS[_0x96ade6(0x132)](_0x96ade6(0x134));$WHENS=[_0x96ade6(0x13d),_0x96ade6(0xf3),_0x96ade6(0x10a),'偶数ターン開始時','味方が全員生存している時','常時',_0x96ade6(0xf6),_0x96ade6(0x100),_0x96ade6(0x109)];let _0x21829c=[];for(attr of _0x1392d8[_0x96ade6(0x11d)]){if(!$MAINS[_0x96ade6(0xff)](attr['main']))continue;if(attr[_0x96ade6(0x10c)][_0x96ade6(0xff)]('耐性'))continue;_0x21829c[_0x96ade6(0x132)](attr);}return _0x21829c;}let FILTER_WEAPON='';$(_0x18011a(0x11a))[_0x18011a(0x13c)](function(){const _0x357f57=_0x18011a;$(this)[_0x357f57(0x121)](_0x357f57(0x133))?($(this)[_0x357f57(0xf7)](_0x357f57(0x133)),FILTER_WEAPON=''):($(_0x357f57(0x11a))[_0x357f57(0xf2)](function(){$(this)['removeClass']('filterActive');}),$(this)[_0x357f57(0x104)](_0x357f57(0x133)),FILTER_WEAPON=$(this)[_0x357f57(0xf1)]('data-weapon')),filter();});let FILTER_ATTR=[];$('.filterAttr')['click'](function(){const _0x5c805d=_0x18011a;FILTER_ATTR=[];if($(this)[_0x5c805d(0x121)](_0x5c805d(0x133)))$(this)[_0x5c805d(0xf7)]('filterActive');else{if($(_0x5c805d(0xea))[_0x5c805d(0x105)]>=0x2)return;$(this)[_0x5c805d(0x104)](_0x5c805d(0x133));}$(_0x5c805d(0xea))[_0x5c805d(0xf2)](function(){const _0x5c8ff3=_0x5c805d;FILTER_ATTR[_0x5c8ff3(0x132)]($(this)[_0x5c8ff3(0xf1)](_0x5c8ff3(0x113)));}),filter();});let FILTER_RANGE=[];$(_0x18011a(0x12b))[_0x18011a(0x13c)](function(){const _0xf96b0c=_0x18011a;FILTER_RANGE=[];if($(this)[_0xf96b0c(0x121)](_0xf96b0c(0x133)))$(this)[_0xf96b0c(0xf7)]('filterActive');else{if($(_0xf96b0c(0x128))[_0xf96b0c(0x105)]>=0x2){}$(this)['addClass'](_0xf96b0c(0x133));}$(_0xf96b0c(0x128))[_0xf96b0c(0xf2)](function(){const _0x1988ef=_0xf96b0c;FILTER_RANGE[_0x1988ef(0x132)]($(this)['attr'](_0x1988ef(0x138)));}),filter();});let FILTER=[];function _0x2368(){const _0x44806f=['html','size','.AB_NAME','hasClass','val','.AB_VALUE','7280710uGHqSU','ready','器用さ','3665373XOZzwu','.filterRange.filterActive','icon_tsue_sm','</div>','.filterRange','Name','4010','.FLOVER_TEMPLATE','13fodOIO','45HFOcnS','#AB_TEMPLATE','push','filterActive','ダメージ強化','icon_tai_sm','d-none\x20FLOVER_TEMPLATE','12dEhVmq','data-href','append','.png','.SUB','click','ターン開始時','エクストラフォース','split','.DAMAGE','Series','STR','5506CuzxIk','AnotherName','replaceAll','.ICON','.MAIN','SERIES_','.ANOTHER_NAME','icon_da','damage','2397626FwKogu','<img\x20src=\x22','ダメージ強化(全体)','.WHEN','WeaponType','67324Reasmt','icon_zan','d-none','icon_netsu','敵全体弱体化(デバフ)','icon_ju_sm','.ab-flover','removeAttr','splice','Ex\x20','#TEMPLATE','.filterAttr.filterActive','.BUFF_TITLE','ダメージ強化(自身以外)','.SUM_PER','素早さ','450fxQGli','replace','attr','each','ターン終了時','find','main','ラウンド開始時','removeClass','Rarity','icon_rei','when','11gjcBsB','clone','味方生存者全体','\x22\x20class=\x22icon_xs\x22>','includes','ターン開始時/味方が全員生存している場合','StyleAbilityIds','WEAPON_','keys','addClass','length','Icon','icon_kon_sm','BUFF','自身がダメージを受けていなかった場合','バトル開始時','アビリティ付与','sub','DAMAGE','floor','159TGStmE','110792BNQGXI','を装備している場合','<div\x20class=\x22','data-attr','自身以外の全員強化(バフ)','5509632SyhodQ','Weak','#RANKING_AREA','fuchidori-blue','秘奥・攻','.filterWeapon','icon_yumi_sm','<br>','Attr'];_0x2368=function(){return _0x44806f;};return _0x2368();}function filter(){const _0x277f3c=_0x18011a;FILTER=['全'];FILTER_WEAPON&&FILTER[_0x277f3c(0x132)](FILTER_WEAPON);FILTER_ATTR['length']>0x0&&FILTER['push'](...FILTER_ATTR);FILTER_RANGE[_0x277f3c(0x105)]>0x0&&FILTER[_0x277f3c(0x132)](...FILTER_RANGE);let _0xbf4f1f=[];for(let _0x292189 in BUFF_RANKING_DATA[_0x277f3c(0x10d)]){let _0x10fea9=0x0,_0x17f4a0=0x0,_0x1d413c=0x1;const _0x1a1fca=BUFF_RANKING_DATA[_0x277f3c(0x10d)][_0x292189]?.['1T']?.[_0x277f3c(0x13d)]??[];if(_0x1a1fca[_0x277f3c(0x105)]==0x0)continue;for(let _0x52bd64 in _0x1a1fca){const _0x423092=_0x1a1fca[_0x52bd64];FILTER[_0x277f3c(0xff)](_0x52bd64)&&(_0x10fea9+=_0x423092);if(_0x52bd64[_0x277f3c(0xff)]('エクストラフォース')){const _0xc8fcae=_0x52bd64['replace'](_0x277f3c(0x13e),''),_0x530639=_0xc8fcae==_0x277f3c(0x116)?'Weak攻撃':_0xc8fcae;_0x530639 in FILTER&&(_0x1d413c+=_0x423092);}if(_0x52bd64[_0x277f3c(0xff)]('・')){const _0x8b066c=_0x52bd64['split']('・');for(dat in _0x8b066c){_0x10fea9+=_0x423092;break;}}}_0x17f4a0+=BUFF_RANKING_DATA?.['BUFF']?.[_0x292189]?.['1']?.[_0x277f3c(0x13d)]?.[_0x277f3c(0xd0)]??0x0;const _0x593111=damageCalc(_0x10fea9,_0x17f4a0,_0x1d413c);_0xbf4f1f[_0x277f3c(0x132)]({'id':_0x292189,'val':Number(_0x10fea9),'buff':Number(_0x17f4a0),'damage':Number(_0x593111)});}_0xbf4f1f['sort'](function(_0x1cdde9,_0x457898){const _0x2a65f2=_0x277f3c;if(_0x457898[_0x2a65f2(0xd9)]!==_0x1cdde9['damage'])return _0x457898['damage']-_0x1cdde9[_0x2a65f2(0xd9)];}),$(_0x277f3c(0x117))[_0x277f3c(0x11e)]('');for(let _0x1e7a4b in _0xbf4f1f){if(_0xbf4f1f[_0x1e7a4b][_0x277f3c(0x122)]==0x0)continue;const _0x44dc61=STYLE_MASTER[_0xbf4f1f[_0x1e7a4b]['id']];addCard(_0x44dc61,_0xbf4f1f[_0x1e7a4b][_0x277f3c(0xd9)]);}}function damageCalc(_0x36aef7,_0xbd9070,_0x3bdb06){const _0x265cc3=_0x18011a,_0x23fd6c=0x10,_0x20cc31=0x63,_0x4d34db=_0x23fd6c+(_0x23fd6c-0x5)*(0x1+_0x20cc31/0x64),_0x121f79=1.5,_0x2f5104=0x4b,_0x71bd39=0x3e8+0x164*(0x32+_0xbd9070)/0x64,_0x408ce6=0x3e8,_0x4de87d=-0x23,_0x1f45c7=0xa,_0x30930c=0x11,_0x5614b1=0x190+_0x36aef7,_0x2a8a49=0x6,_0x17f99e=_0x121f79*_0x2f5104+_0x4d34db,_0x50b64f=0x4*_0x71bd39>1.5*_0x408ce6?0x1+0x4*_0x71bd39-1.5*_0x408ce6:0x1,_0x5a2a9f=0x1/(0x1+0.008*_0x4de87d)*(0x1/_0x1f45c7)*(0x1+(_0x30930c+_0x5614b1+_0x2a8a49-0x6)/0x64);return Math[_0x265cc3(0x10e)](_0x17f99e*_0x50b64f*_0x5a2a9f*_0x3bdb06);}