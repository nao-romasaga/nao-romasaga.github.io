var _0x5a5564=_0x37a9;(function(_0x19f58a,_0x469f08){var _0x46f50f=_0x37a9,_0x2002fc=_0x19f58a();while(!![]){try{var _0x304cc5=-parseInt(_0x46f50f(0x106))/0x1*(parseInt(_0x46f50f(0x1b0))/0x2)+-parseInt(_0x46f50f(0x153))/0x3+parseInt(_0x46f50f(0x108))/0x4*(-parseInt(_0x46f50f(0x124))/0x5)+-parseInt(_0x46f50f(0x12e))/0x6*(parseInt(_0x46f50f(0x147))/0x7)+-parseInt(_0x46f50f(0x15a))/0x8+parseInt(_0x46f50f(0x11f))/0x9+parseInt(_0x46f50f(0x174))/0xa*(parseInt(_0x46f50f(0x14c))/0xb);if(_0x304cc5===_0x469f08)break;else _0x2002fc['push'](_0x2002fc['shift']());}catch(_0x19df16){_0x2002fc['push'](_0x2002fc['shift']());}}}(_0x5ad7,0x8f8a2));let DAMAGE_ABILITY={'ID29d93221':{'Id':_0x5a5564(0x1cc),'Per':0x2},'ID29d93221':{'Id':_0x5a5564(0x1cc),'Per':0x5},'ID29d93221':{'Id':_0x5a5564(0x1cc),'Per':0xa},'ID29d93221':{'Id':'ability_list2','Per':0xf},'ID29d93221':{'Id':'ability_list2','Per':0x14}},SKILL_LIST={'剣':[],'大剣':[],'斧':[],'小剣':[],'槍':[],'弓':[],'棍棒':[],'体術':[],'銃':[],'火術':[],'水術':[],'風術':[],'土術':[],'光術':[],'闇術':[]},SKILL_MAP={'ken':'剣','dken':'大剣','ono':'斧','sken':'小剣','yari':'槍','yumi':'弓','kon':'棍棒','tai':'体術','ju':'銃','hi':'火術','mizu':'水術','kaze':'風術','tsuchi':'土術','hikari':'光術','yami':'闇術'},DEX_LIST=['yumi',_0x5a5564(0x188),'ju'];var MY_MASTER_LV={'ken':0x1,'dken':0x1,'ono':0x1,'sken':0x1,'yumi':0x1,'yari':0x1,'ju':0x1,'kon':0x1,'tai':0x1,'tsue':0x1},SAVE_OPTION={'styleId':'','weapon':0x0,'master':'','masterPer':'','ab':0x0,'enemy':0x0,'resist':0x0,'damage':0x0,'name':_0x5a5564(0xfe),'grade':'E','iryoku':0x7,'rank':0x1,'status':'','statusCalc':''};typeof firebase!==_0x5a5564(0x10e)&&firebase[_0x5a5564(0x101)](appUsers)[_0x5a5564(0x1b4)](_0x265f4f=>{var _0x3d49ee=_0x5a5564;_0x265f4f&&(USER=_0x265f4f,UID=_0x265f4f[_0x3d49ee(0x17f)],initial());});function createSkillOption(_0x51331d){var _0x501e28={};return _0x51331d['forEach'](function(_0x1b524c){var _0x586416=_0x37a9;let _0x1e61b7=_0x1b524c[_0x586416(0x130)];if(_0x1e61b7!=='-'&&_0x1e61b7>0x0){var _0x11b92a=_0x1b524c[_0x586416(0x173)]!=undefined?'['+_0x1b524c[_0x586416(0x173)][_0x586416(0x133)](',','')+']\x20':'';_0x501e28[_0x11b92a+_0x1b524c[_0x586416(0x175)]+_0x586416(0x18c)+_0x1b524c['ConsumeBp']+_0x586416(0x150)+_0x1b524c['PowerGrade']+']:'+_0x1e61b7]=_0x1b524c['Id'];}}),_0x501e28;}async function initial(){var _0x1cf1be=_0x5a5564;let _0x9f8826=readUserData(_0x1cf1be(0x14f),function(_0x552550){var _0x3f9bea=_0x1cf1be;_0x552550!==null?(MY_MASTER_LV=_0x552550,$(_0x3f9bea(0x12c))[_0x3f9bea(0x155)](MY_MASTER_LV[_0x3f9bea(0x125)]),$('#NOW_MAX_ML')[_0x3f9bea(0x155)](WEAPON_MAP['剣']['master']),setMasterDamageRate()):($(_0x3f9bea(0x12c))['val'](WEAPON_MAP['剣'][_0x3f9bea(0x149)]),$(_0x3f9bea(0x197))[_0x3f9bea(0x155)](WEAPON_MAP['剣']['master']));});await Promise[_0x1cf1be(0x142)]([_0x9f8826]),firebase[_0x1cf1be(0x148)]()[_0x1cf1be(0x154)](),firebase[_0x1cf1be(0x148)](appUsers)[_0x1cf1be(0x154)]();}$(function(){var _0x267e6a=_0x5a5564;displayWeaponIcon({'WeaponType':'剣'}),$(_0x267e6a(0x16d))[_0x267e6a(0x1ce)](),$(_0x267e6a(0x1b8))[_0x267e6a(0x1ce)]();for(let _0xcd51b7 in ENEMY_DATA){let _0x4251d2=ENEMY_DATA[_0xcd51b7],_0x5f519=_0x4251d2[_0x267e6a(0x1ca)]+'\x20'+_0x4251d2[_0x267e6a(0x117)]+_0x267e6a(0x193)+_0x4251d2[_0x267e6a(0x1a0)]+'\x20精:'+_0x4251d2[_0x267e6a(0x169)];$option=$(_0x267e6a(0x1c8),{'value':_0xcd51b7,'text':_0x5f519}),$('#enemy_vit')['append']($option);}for(let _0x4b5275 in SKILL_MASTER){let _0xd05a34=SKILL_MASTER[_0x4b5275];if(_0xd05a34[_0x267e6a(0x1a6)]=='杖')continue;SKILL_LIST[_0xd05a34[_0x267e6a(0x1a6)]][_0x267e6a(0x19e)](_0xd05a34);}let _0x3542b2=0x0;for(let _0x1180d0 in SKILL_LIST){SKILL_LIST[_0x1180d0]['sort'](function(_0x285651,_0xb6f9b7){var _0x481fbf=_0x267e6a;if(_0x285651[_0x481fbf(0x130)]==='-'||_0xb6f9b7[_0x481fbf(0x130)]==='-'||_0x285651[_0x481fbf(0x130)]>_0xb6f9b7[_0x481fbf(0x130)])return-0x1;else return _0x285651[_0x481fbf(0x130)]<_0xb6f9b7[_0x481fbf(0x130)]||_0x285651[_0x481fbf(0x1b3)]>_0xb6f9b7[_0x481fbf(0x1b3)]?0x1:-0x1;}),SKILL_LIST[_0x1180d0][_0x267e6a(0x123)]({'Id':'ID'+_0x3542b2++,'ConsumeBp':0x0,'Name':_0x267e6a(0x185)+_0x1180d0+')','PowerGrade':'E','SkillIryoku':0x7,'SkillType':'技'});}addOption(createSkillOption(SKILL_LIST['剣']),_0x267e6a(0x165)),setDefaultSkillIryoku();}),$(document)['on'](_0x5a5564(0x12d),_0x5a5564(0x134),function(){var _0x235f6e=_0x5a5564;$(this)[_0x235f6e(0x1be)](_0x235f6e(0x1b7))['slideUp'](0x12c,function(){var _0x49de1c=_0x235f6e;$(this)[_0x49de1c(0x14a)]();});}),$(document)['on'](_0x5a5564(0x1ac),_0x5a5564(0x187),function(){damageCalc();}),$(document)['on'](_0x5a5564(0x1ac),'.charParam',function(){damageCalc();}),$(document)['on']('change',_0x5a5564(0xff),function(){damageCalc();}),$(document)['on'](_0x5a5564(0x1ac),'#master',function(){var _0x26053b=_0x5a5564;type=$(_0x26053b(0x1ba))[_0x26053b(0x155)](),$[_0x26053b(0x15e)](type,['hi',_0x26053b(0x18f),'tsuchi',_0x26053b(0x160),_0x26053b(0x171),_0x26053b(0x10f)])>-0x1&&(type=_0x26053b(0x104)),MY_MASTER_LV[type]=$(_0x26053b(0x12c))['val'](),setMasterDamageRate();}),$(document)['on'](_0x5a5564(0x1ac),_0x5a5564(0x1a7),function(){var _0x2e15f1=_0x5a5564,_0x2e1fc8=$(_0x2e15f1(0x1a7))[_0x2e15f1(0x155)]();$('#resistDamage')[_0x2e15f1(0x155)](Math['round'](0x1/(0x1+0.008*_0x2e1fc8)*0x64*0x64)/0x64);}),$(document)['on'](_0x5a5564(0x12d),_0x5a5564(0x17c),function(){var _0x18427b=_0x5a5564;$history=$(_0x18427b(0x15b))['clone']()['removeAttr']('id')[_0x18427b(0x122)](_0x18427b(0x12b)),styleId=SAVE_OPTION[_0x18427b(0x139)];if(styleId!=''){styleInfo=STYLE_MASTER[styleId];let _0x4832d0=getStyleIcon(styleInfo['Rarity'],styleId,'',!![]);$history['find'](_0x18427b(0x1a9))[_0x18427b(0x11c)](_0x4832d0);}$history[_0x18427b(0x102)](_0x18427b(0x164))[_0x18427b(0x180)](SAVE_OPTION[_0x18427b(0x131)]),$history['find']('.WEAPON')['text'](SAVE_OPTION['weapon']),$history[_0x18427b(0x102)]('.MLV')[_0x18427b(0x180)](SAVE_OPTION[_0x18427b(0x149)]),$history[_0x18427b(0x102)](_0x18427b(0x146))['text'](SAVE_OPTION['masterPer']),$history[_0x18427b(0x102)](_0x18427b(0x13a))['text'](SAVE_OPTION['ab']),$history[_0x18427b(0x102)](_0x18427b(0x199))[_0x18427b(0x180)](SAVE_OPTION[_0x18427b(0x152)]),$history['find']('.DAMAGE')['text'](number_format(SAVE_OPTION['damage'])),$history['find'](_0x18427b(0x1a1))[_0x18427b(0x180)](SAVE_OPTION['name']),$history['find'](_0x18427b(0x177))[_0x18427b(0x180)](SAVE_OPTION[_0x18427b(0x16e)]),$history[_0x18427b(0x102)]('.RANK')['text'](SAVE_OPTION['rank']),$history[_0x18427b(0x102)](_0x18427b(0x151))['text'](SAVE_OPTION[_0x18427b(0x13f)]),$history[_0x18427b(0x102)](_0x18427b(0x10d))[_0x18427b(0x180)](SAVE_OPTION[_0x18427b(0x18e)]),$history['find'](_0x18427b(0x1c9))['text'](SAVE_OPTION[_0x18427b(0x161)]),$(_0x18427b(0x111))[_0x18427b(0x11c)]($history);}),$(document)['on'](_0x5a5564(0x1ac),_0x5a5564(0x1cb),function(){var _0x5631b9=_0x5a5564;let _0x2820dc=$('#enemy_vit')[_0x5631b9(0x155)]();if(_0x2820dc==='x')return;let _0x14c8b5=ENEMY_DATA[_0x2820dc];type=$(_0x5631b9(0x1ba))[_0x5631b9(0x155)]();$[_0x5631b9(0x15e)](type,['hi','mizu','tsuchi','kaze',_0x5631b9(0x171),'yami'])>-0x1?$('#vit')[_0x5631b9(0x155)](_0x14c8b5['mnd']):$(_0x5631b9(0x11d))['val'](_0x14c8b5[_0x5631b9(0x1a0)]);for(let _0x592260 of[_0x5631b9(0x179),'da',_0x5631b9(0x1c3),'netsu',_0x5631b9(0x100),'rai','in',_0x5631b9(0x1b5)]){setTaisei($(_0x5631b9(0x17a)+_0x592260),_0x14c8b5[_0x592260]);}damageCalc();}),$(document)['on']('click',_0x5a5564(0x10a),function(){var _0x225111=_0x5a5564;$(_0x225111(0x17e))[_0x225111(0x102)](_0x225111(0x1b6))[_0x225111(0x176)](function(){var _0x4ea0b1=_0x225111;$(this)[_0x4ea0b1(0x122)](_0x4ea0b1(0x15f));}),$(this)[_0x225111(0x1be)](_0x225111(0x19f))[_0x225111(0x168)](_0x225111(0x15f)),$(_0x225111(0x17d))['val'](Number($(this)[_0x225111(0x1be)](_0x225111(0x19f))[_0x225111(0x121)]('data-val'))),changeStatus(),damageCalc();}),$(document)['on']('click',_0x5a5564(0x107),function(){var _0x1827e7=_0x5a5564,_0x587f5b=$(this)[_0x1827e7(0x121)](_0x1827e7(0x19d));clickArmor(_0x587f5b),$('.ARMOR_CHOISE')[_0x1827e7(0x176)](function(){var _0x11fdd5=_0x1827e7;$(this)[_0x11fdd5(0x122)](_0x11fdd5(0x141))[_0x11fdd5(0x168)](_0x11fdd5(0x14e));}),$(this)[_0x1827e7(0x122)](_0x1827e7(0x14e))[_0x1827e7(0x168)](_0x1827e7(0x141)),changeStatus(),damageCalc();}),$(document)['on']('change','#skill',function(){var _0x30e15c=_0x5a5564;$(_0x30e15c(0x10b))[_0x30e15c(0x1c2)](''),$('#ABILITY_AREA')[_0x30e15c(0x1c2)](''),GOUREI={},ALWAYS_ABILITY=[],NOW_ABILITY_BUFF=[],BUFF_ABILITY=[],DEBUFF_ABILITY=[],setDefaultSkillIryoku();let _0x33e501=$(_0x30e15c(0x13b))[_0x30e15c(0x180)]();if(_0x33e501[_0x30e15c(0x182)](_0x30e15c(0xfe))!==-0x1)$('#skill_rank')[_0x30e15c(0x155)](0x1),SAVE_OPTION[_0x30e15c(0x117)]=_0x30e15c(0xfe),SAVE_OPTION[_0x30e15c(0x131)]='E',SAVE_OPTION[_0x30e15c(0x103)]=0x1;else{let _0x1648d6=$(_0x30e15c(0x13b))['val'](),_0x1c35c8=SKILL_MASTER[_0x1648d6];SAVE_OPTION['name']=_0x1c35c8[_0x30e15c(0x175)],SAVE_OPTION['grade']=_0x1c35c8[_0x30e15c(0x1d2)];let _0x5630b9=[];for(key in _0x1c35c8[_0x30e15c(0x186)]){let _0x5a5019=_0x1c35c8[_0x30e15c(0x186)][key],_0x423f90=STYLE_MASTER[_0x5a5019],_0x3439e7=CHAR_MASTER[_0x423f90[_0x30e15c(0x12a)]];for(styleIds of _0x3439e7[_0x30e15c(0x186)]){_0x5630b9[_0x30e15c(0x19e)](styleIds);}}_0x5630b9=_0x5630b9[_0x30e15c(0x137)](function(_0x45e008,_0x3b423f,_0x24048f){return _0x24048f['indexOf'](_0x45e008)===_0x3b423f;});for(styleId of _0x5630b9){styleInfo=STYLE_MASTER[styleId];let _0x2cb2c7=getStyleIcon(styleInfo[_0x30e15c(0x109)],styleId,'',!![]);$('#HOLDERS_AREA')['append'](_0x2cb2c7);}masterType=$('#type')['val'](),$['inArray'](masterType,['hi',_0x30e15c(0x18f),_0x30e15c(0x132),_0x30e15c(0x160),_0x30e15c(0x171),_0x30e15c(0x10f)])>-0x1&&(masterType='tsue'),changeSkillType(masterType,_0x1c35c8);}}),$(document)['on'](_0x5a5564(0x12d),_0x5a5564(0x12f),function(){var _0x17d13e=_0x5a5564;styleId=$(this)[_0x17d13e(0x121)](_0x17d13e(0x105)),SAVE_OPTION['styleId']=styleId,styleInfo=STYLE_MASTER[styleId],charInfo=CHAR_MASTER[styleInfo[_0x17d13e(0x12a)]];let _0x71740=culcStyleAddintional(styleInfo);var _0x1385de={'STR':'腕力','DEX':_0x17d13e(0x195),'AGI':_0x17d13e(0x15c),'INT':'知力'};for(var _0x2cd5b0 in _0x1385de){var _0x115f4b=_0x1385de[_0x2cd5b0],_0x1f7887=charInfo['MAX'+_0x2cd5b0]+LIMIT_BASE;let _0x1ab13e=_0x71740[_0x115f4b][0x32][_0x17d13e(0x1bb)],_0x4c5f34=_0x71740[_0x115f4b][0x32]['Bonus'],_0x3d125f=addBonus(_0x1f7887,_0x1ab13e,_0x4c5f34);$('#char'+_0x2cd5b0)[_0x17d13e(0x155)](_0x1f7887),$(_0x17d13e(0x18d)+_0x2cd5b0)[_0x17d13e(0x155)](_0x3d125f);}var _0xc2d0ca=[],_0x3c0c72=[],_0x289edf=0x0;for(lv of Object[_0x17d13e(0x184)](styleInfo['StyleAbility'])){_0x3c0c72[_0x17d13e(0x19e)](styleInfo['StyleAbilityIds'][lv]),abId=styleInfo[_0x17d13e(0x1cd)][lv];var _0x3d3de8=ABILITY_MASTER[abId],_0x237698=_0x3d3de8[_0x17d13e(0x175)],_0x463030=[];for(attr of _0x3d3de8[_0x17d13e(0x16a)]){if(attr[_0x17d13e(0x1c6)]=='ダメージ強化'){var _0x41d857=attr[_0x17d13e(0x1ab)]!=_0x17d13e(0x1c0)?'\x20確率\x20'+attr[_0x17d13e(0x1ab)]:'',_0x17973f=attr[_0x17d13e(0x138)]!='常時'?attr['sub']:'',_0x2e5e76='+'+filterNumber(attr[_0x17d13e(0x11e)])+'%';_0x463030[_0x17d13e(0x19e)](_0x2e5e76+'\x20'+_0x17973f+_0x41d857),(attr[_0x17d13e(0x138)]=='常時'||attr['sub']==_0x17d13e(0x1bf))&&(_0x289edf+=filterNumber(attr[_0x17d13e(0x11e)]));}if(attr['main']=='全員強化(バフ)'&&attr['sub'][_0x17d13e(0x182)](_0x17d13e(0x190))>-0x1){var _0x41d857=attr['time']!=_0x17d13e(0x1c0)?_0x17d13e(0x1a2)+attr['time']:'',_0x17973f=attr[_0x17d13e(0x138)]!='常時'?attr['sub'][_0x17d13e(0x133)]('ダメージ',''):'',_0x2e5e76='+'+filterNumber(attr[_0x17d13e(0x11e)])+'%';_0x463030[_0x17d13e(0x19e)](_0x2e5e76+'\x20:'+_0x17973f+_0x41d857);}}_0x463030['length']>0x0&&(_0x237698+=_0x17d13e(0x136)+_0x463030[_0x17d13e(0x13c)](_0x17d13e(0x158))),_0xc2d0ca[_0x17d13e(0x19e)](_0x237698);}$(_0x17d13e(0x157))[_0x17d13e(0x155)](_0x289edf),setAbilityBuffDeBuff(styleInfo),$(_0x17d13e(0x129))[_0x17d13e(0x1c2)](_0xc2d0ca[_0x17d13e(0x13c)](_0x17d13e(0x1b2))),damageCalc();}),$(document)['on'](_0x5a5564(0x1ac),'#type',function(){var _0x1ab666=_0x5a5564;$(_0x1ab666(0x10b))[_0x1ab666(0x1c2)](''),$(_0x1ab666(0x129))[_0x1ab666(0x1c2)](''),SAVE_OPTION[_0x1ab666(0x139)]='',SAVE_OPTION[_0x1ab666(0x117)]=_0x1ab666(0xfe),SAVE_OPTION['grade']='E',type=$(_0x1ab666(0x1ba))[_0x1ab666(0x155)]();var _0x2f651b=type[_0x1ab666(0x133)](/(mizu)|(tsuchi)|(kaze)|(hikari)|(yami)|(hi)/g,_0x1ab666(0x104));for(var _0x308b9e in MASTER_LV_KEY){if(_0x2f651b==MASTER_LV_KEY[_0x308b9e]){displayWeaponIcon({'WeaponType':_0x308b9e}),$(_0x1ab666(0x197))[_0x1ab666(0x155)](WEAPON_MAP[_0x308b9e][_0x1ab666(0x149)]);break;}}_0x2f651b==_0x1ab666(0x104)&&$('.TEMP_WEAPON')['each'](function(){var _0x34d561=_0x1ab666,_0x5ee682=$(this)[_0x34d561(0x121)](_0x34d561(0x19d));_0x5ee682[_0x34d561(0x182)](JUTSU_MASTER[type])==-0x1?$(this)['addClass'](_0x34d561(0x12b))['removeClass']('d-inline-block'):$(this)[_0x34d561(0x122)](_0x34d561(0x12b))[_0x34d561(0x168)](_0x34d561(0x16c));}),masterType=$(_0x1ab666(0x1ba))[_0x1ab666(0x155)](),$[_0x1ab666(0x15e)](masterType,['hi',_0x1ab666(0x18f),'tsuchi',_0x1ab666(0x160),_0x1ab666(0x171),_0x1ab666(0x10f)])>-0x1&&(masterType=_0x1ab666(0x104)),$('#master')[_0x1ab666(0x155)](MY_MASTER_LV[masterType]),setMasterDamageRate(),$(_0x1ab666(0x170))['children']()[_0x1ab666(0x14a)](),addOption(createSkillOption(SKILL_LIST[SKILL_MAP[type]]),_0x1ab666(0x165)),setDefaultSkillIryoku(),changeSkillType(masterType,{});});function changeSkillType(_0x191126,_0x5ec1bf){var _0x494133=_0x5a5564,_0x42c89f=_0x5ec1bf[_0x494133(0x1d1)]==undefined?'':_0x5ec1bf[_0x494133(0x1d1)];if(_0x191126===_0x494133(0x104)||_0x42c89f=='知力')$('#param_label')[_0x494133(0x180)]('知力'),$(_0x494133(0x189))[_0x494133(0x180)]('知'),$(_0x494133(0x18a))[_0x494133(0x180)]('精神'),$(_0x494133(0x16d))['hide']();else{if($[_0x494133(0x15e)](_0x191126,DEX_LIST)>-0x1)$('#param_label')[_0x494133(0x180)](_0x494133(0x195)),$(_0x494133(0x18a))['text']('体力'),$(_0x494133(0x189))['text']('器'),$(_0x494133(0x16d))['hide']();else _0x191126===_0x494133(0x156)?($(_0x494133(0x183))[_0x494133(0x180)]('腕力'),$(_0x494133(0x18a))['text']('体力'),$('.jinkei_label')['text']('腕'),$('#taijyutsu')[_0x494133(0x10c)]()):($('#param_label')[_0x494133(0x180)]('腕力'),$(_0x494133(0x18a))['text']('体力'),$(_0x494133(0x189))[_0x494133(0x180)]('腕'),$(_0x494133(0x16d))[_0x494133(0x1ce)]());}}function _0x5ad7(){var _0x38e05b=['BattleType','#resist','#skill_rank','.ICON','ターン開始時','time','change','#styleDEX','Weak攻撃','OD攻撃','41386CCJnvS','#vit2','<br>','ConsumeBp','onAuthStateChanged','you','.filterActive','.bg-simple','.vitCulc','敵弱体化(デバフ)','#type','Per','<tr>','#ability_list4','parents','武器装備時','必ず(100%)','selected','html','totsu','#eqAGI','prop','main','#charSTR','<option>','.RESIST','quest','#enemy_vit','ability_list2','StyleAbilityIds','hide','#jinkeiDEX','</th>','SpecialType','PowerGrade','damage','通常攻撃','.culcList','rei','auth','find','rank','tsue','data-id','7uTtVSH','.ARMOR_CHOISE','3319252MHTmlH','Rarity','.WEAPON_CHOISE','#HOLDERS_AREA','show','.ST_CALC','undefined','yami','NAME','#HISTORY_AREA','INT','<td\x20class=\x22small\x20opacity\x22\x20>','#styleSTR','turn','</td>','name','全員強化(バフ)','連携攻撃','#charDEX','</tr>\x0a','append','#vit','size','8791155EBeKOX','味方が全員生存している時','attr','removeClass','unshift','5qyrQTo','ken','when','#eqINT','<th\x20class=\x22table-primary\x22>','#ABILITY_AREA','CharacterId','d-none','#master','click','6hTkXlB','#HOLDERS_AREA\x20.style','SkillIryoku','grade','tsuchi','replace','.CLOSE_BTN','自身強化(バフ)','<br>\u3000','filter','sub','styleId','.AB','#skill\x20option:selected','join','floor','#skill_val','status','DEX','icon_btn_positive','all','ラウンド開始時','ショウタイム','masterPer','.MLV_PER','925841NlMSHn','database','master','remove','PER','19531171HWtkFl','#jinkeiSTR','icon_btn_negative','MASTER','\x20威力[','.ST','enemy','1961727fbVogB','goOffline','val','tai','#ability_other','\x20|\x20','#holystone','3228656OVIQDs','#HISTORY_TEMPLATE','素早さ','#jinkeiAGI','inArray','filterActive','kaze','resist','</tr>','trim','.GRADE','skill','#ability_list1','length','addClass','mnd','Attr','#ability_list3','d-inline-block','#taijyutsu','iryoku','table#damageRangeTable\x20tbody\x20*','#skill','hikari','AGI','AttackAttributes','10pyjBak','Name','each','.IRYOKU','split','zan','#taisei_','jutsu','#SAVE','#weapon','.WEAPON_AREA','uid','text','#styleINT','indexOf','#param_label','keys','通常攻撃(','Holders','.damage','sken','.jinkei_label','.param_label_teki','table#damageRangeTable\x20tbody','\x20BP:','#style','statusCalc','mizu','ダメージ','瀕死時','#resist2','\x20体:','#eqDEX','器用さ','#styleAGI','#NOW_MAX_ML','\x20option','.ENEMY_ST','abId','HP満タン時','Critical攻撃','data-type','push','.d-inline-block','vit','.SKILL_NAME','\x20確率\x20','#type\x20option:selected','#ability_list2','\x20/\x20速\x20'];_0x5ad7=function(){return _0x38e05b;};return _0x5ad7();}function setDefaultSkillIryoku(){var _0x4b6cf0=_0x5a5564;let _0x2b8da2=$(_0x4b6cf0(0x13b))[_0x4b6cf0(0x155)](),_0x8f4e4d=SKILL_MASTER[_0x2b8da2],_0xa5d8b5=_0x8f4e4d===undefined?0x7:_0x8f4e4d[_0x4b6cf0(0x130)];$(_0x4b6cf0(0x13e))[_0x4b6cf0(0x155)](_0xa5d8b5);}function damageCalc(){var _0x19a568=_0x5a5564;let _0x964679=Number($(_0x19a568(0x166))[_0x19a568(0x155)]()),_0x50c7b8=Number($(_0x19a568(0x1a4))['val']()),_0xdd08b4=Number($('#ability_list3')[_0x19a568(0x155)]()),_0x4d426b=Number($('#ability_list4')[_0x19a568(0x155)]()),_0x4a6181=Number($('#ability_other')['val']()),_0x218ccc=Number($(_0x19a568(0x159))['val']());var _0x53dd88={'STR':0x0,'DEX':0x0,'AGI':0x0,'INT':0x0};for(buffInfo of BUFF_ABILITY){for(p of buffInfo['PARAM']){_0x53dd88[p]+=buffInfo[_0x19a568(0x14b)];}}var _0x4cbbd9=Number($('#weapon')['val']()),_0x1deaea=_0x4a6181+_0x218ccc,_0x120715=Number($('#resist')['val']()),_0x19423a=$(_0x19a568(0x170))[_0x19a568(0x155)](),_0x45a691=Number($(_0x19a568(0x13e))[_0x19a568(0x155)]()),_0x499bd2=Number($(_0x19a568(0x1a8))[_0x19a568(0x155)]()),_0x279ba5=Number($(_0x19a568(0x11d))['val']()),_0x4ebe6a=masterLevel($('#master')[_0x19a568(0x155)]())*0x64;setMasterDamageRate();var _0xc2148e=SKILL_MASTER[_0x19423a];_0xc2148e==undefined&&(_0xc2148e={'BattleType':$(_0x19a568(0x1a3))[_0x19a568(0x180)]()});var _0x202460=Number($('#eqSTR')[_0x19a568(0x155)]())+Number($(_0x19a568(0x114))[_0x19a568(0x155)]()),_0x1345cf=Number($(_0x19a568(0x194))[_0x19a568(0x155)]())+Number($(_0x19a568(0x1ad))[_0x19a568(0x155)]()),_0x1091bc=Number($(_0x19a568(0x1c4))[_0x19a568(0x155)]())+Number($(_0x19a568(0x196))['val']()),_0xbb6968=Number($(_0x19a568(0x127))[_0x19a568(0x155)]())+Number($(_0x19a568(0x181))[_0x19a568(0x155)]()),_0x553a2e=_0x202460+Math[_0x19a568(0x13d)](Number($(_0x19a568(0x1c7))['val']())*(Number($(_0x19a568(0x14d))[_0x19a568(0x155)]())+_0x53dd88['STR'])/0x64),_0x3b05aa=_0x1345cf+Math[_0x19a568(0x13d)](Number($(_0x19a568(0x11a))[_0x19a568(0x155)]())*(Number($(_0x19a568(0x1cf))[_0x19a568(0x155)]())+_0x53dd88[_0x19a568(0x140)])/0x64),_0x1bc98f=_0x1091bc+Math[_0x19a568(0x13d)](Number($('#charAGI')[_0x19a568(0x155)]())*(Number($(_0x19a568(0x15d))[_0x19a568(0x155)]())+_0x53dd88[_0x19a568(0x172)])/0x64),_0x381c65=_0xbb6968+Math[_0x19a568(0x13d)](Number($('#charINT')[_0x19a568(0x155)]())*(Number($('#jinkeiINT')['val']())+_0x53dd88[_0x19a568(0x112)])/0x64),_0x17a401=_0xc2148e[_0x19a568(0x1d1)]=='知力'?_0x19a568(0x17b):$('#type')['val'](),_0x5062ae=_0xc2148e[_0x19a568(0x1a6)],_0x112d0c=_0x553a2e,_0x1219a2=_0x202460;if(_0xc2148e['SkillType']==='術'||_0xc2148e[_0x19a568(0x1d1)]=='知力')_0x112d0c=_0x381c65,_0x1219a2=_0xbb6968;else['小剣','弓','銃'][_0x19a568(0x182)](_0x5062ae)>-0x1&&(_0x112d0c=_0x3b05aa,_0x1219a2=_0x1345cf);dRange=damageStepCulc(_0x17a401,_0x112d0c,_0x1bc98f,_0x4cbbd9,_0x45a691,_0x499bd2,_0x279ba5,_0x4ebe6a,_0x1deaea,_0x120715),dispDamageRangeClear(),dispDamageRange(_0x279ba5,_0x120715,dRange);var _0x56c1b2=Number($(_0x19a568(0x1b1))[_0x19a568(0x155)]()),_0x202a3d=Number($(_0x19a568(0x192))['val']());!isNaN(_0x56c1b2)&&_0x56c1b2>0x0&&(_0x202a3d=isNaN(_0x202a3d)?0x0:_0x202a3d,dRange=damageStepCulc(_0x17a401,_0x112d0c,_0x1bc98f,_0x4cbbd9,_0x45a691,_0x499bd2,_0x56c1b2,_0x4ebe6a,_0x1deaea,_0x202a3d),dispDamageRange(_0x56c1b2,_0x202a3d,dRange));var _0x3e260=Number($('#vit3')['val']()),_0x339de2=Number($('#resist3')[_0x19a568(0x155)]());!isNaN(_0x3e260)&&_0x3e260>0x0&&(_0x339de2=isNaN(_0x339de2)?0x0:_0x339de2,dRange=damageStepCulc(_0x17a401,_0x112d0c,_0x1bc98f,_0x4cbbd9,_0x45a691,_0x499bd2,_0x3e260,_0x4ebe6a,_0x1deaea,_0x339de2),dispDamageRange(_0x3e260,_0x339de2,dRange));var _0x2129a6=_0x17a401;(_0xc2148e[_0x19a568(0x1d1)]=='知力'||$[_0x19a568(0x15e)](_0x2129a6,['hi','mizu',_0x19a568(0x132),'kaze',_0x19a568(0x171),_0x19a568(0x10f)])>-0x1)&&(_0x2129a6='tsue');if(_0x2129a6==='ju'||_0x2129a6===_0x19a568(0x188)||_0x2129a6==='yumi')st='器\x20'+_0x1219a2,stCalc='器\x20'+_0x112d0c;else{if(_0x2129a6===_0x19a568(0x104))st='知\x20'+_0x1219a2,stCalc='知\x20'+_0x112d0c;else _0x2129a6===_0x19a568(0x156)?(st='腕\x20'+_0x1219a2+_0x19a568(0x1a5)+_0x1091bc,stCalc='腕\x20'+_0x112d0c+_0x19a568(0x1a5)+_0x1bc98f):(st='腕\x20'+_0x1219a2,stCalc='腕\x20'+_0x112d0c);}SAVE_OPTION['weapon']=_0x4cbbd9,SAVE_OPTION[_0x19a568(0x149)]=$('#master')['val'](),SAVE_OPTION['masterPer']=_0x4ebe6a,SAVE_OPTION['ab']=_0x1deaea,SAVE_OPTION[_0x19a568(0x152)]=_0x279ba5,SAVE_OPTION['resist']=_0x120715,SAVE_OPTION[_0x19a568(0xfd)]=dRange[0x5],SAVE_OPTION[_0x19a568(0x16e)]=_0x45a691,SAVE_OPTION[_0x19a568(0x103)]=_0x499bd2,SAVE_OPTION['status']=st,SAVE_OPTION['statusCalc']=stCalc;}function setMasterDamageRate(){var _0x32737b=_0x5a5564,_0x31d2ef=masterLevel($('#master')[_0x32737b(0x155)]())*0x64,_0xd07a8b=Math['round'](_0x31d2ef*0x64)/0x64;SAVE_OPTION[_0x32737b(0x149)]=$('#master')[_0x32737b(0x155)](),SAVE_OPTION[_0x32737b(0x145)]=_0xd07a8b,$('#masterDamage')['val'](_0xd07a8b);}function dispDamageRangeClear(){var _0x38a7c7=_0x5a5564;$(_0x38a7c7(0x16f))[_0x38a7c7(0x14a)]();}function _0x37a9(_0x453044,_0x4f056d){var _0x5ad74b=_0x5ad7();return _0x37a9=function(_0x37a962,_0x5e013c){_0x37a962=_0x37a962-0xfd;var _0x430d77=_0x5ad74b[_0x37a962];return _0x430d77;},_0x37a9(_0x453044,_0x4f056d);}function dispDamageRange(_0x195b4f,_0x316c29,_0x25aace){var _0x165974=_0x5a5564,_0x34b21f='',_0x1e7aa1='',_0xfdbd28=0x0;for(i=0x0;i<0x5;i++){_0x34b21f+=_0x165974(0x113)+number_format(_0x25aace[i])+_0x165974(0x116),_0xfdbd28+=_0x25aace[i];}for(i=0x5;i<_0x25aace[_0x165974(0x167)];i++){_0x1e7aa1+=_0x165974(0x113)+number_format(_0x25aace[i])+_0x165974(0x116),_0xfdbd28+=_0x25aace[i];}$(_0x165974(0x18b))[_0x165974(0x11c)](_0x165974(0x1bc)),$('table#damageRangeTable\x20tbody')[_0x165974(0x11c)](_0x165974(0x128)+_0x195b4f+'</th>'),$(_0x165974(0x18b))[_0x165974(0x11c)](_0x165974(0x128)+_0x316c29+_0x165974(0x1d0)),$(_0x165974(0x18b))['append'](_0x165974(0x162)),$('table#damageRangeTable\x20tbody')[_0x165974(0x11c)](_0x34b21f),$(_0x165974(0x18b))[_0x165974(0x11c)](_0x1e7aa1),$(_0x165974(0x18b))[_0x165974(0x11c)](_0x165974(0x11b));}function Compare(_0x5e2e41,_0x385d84){return arr[_0x5e2e41]-arr[_0x385d84];}var GOUREI={},ALWAYS_ABILITY=[],NOW_ABILITY_BUFF=[],BUFF_ABILITY=[],DEBUFF_ABILITY=[];function setAbilityBuffDeBuff(_0x58bd7d){var _0x652637=_0x5a5564;GOUREI={},ALWAYS_ABILITY=[],NOW_ABILITY_BUFF=[],BUFF_ABILITY=[],DEBUFF_ABILITY=[];for(var _0x46f048 in _0x58bd7d[_0x652637(0x1cd)]){abInfo=ABILITY_MASTER[_0x58bd7d[_0x652637(0x1cd)][_0x46f048]];if(abInfo[_0x652637(0x175)]==_0x652637(0x144)){addShowTime();continue;}for(abCategory of abInfo['Attr']){if(abCategory['main']==_0x652637(0x135)||abCategory[_0x652637(0x1c6)]==_0x652637(0x1b9)||abCategory[_0x652637(0x1c6)]==_0x652637(0x118)){per=filterNumber(abCategory[_0x652637(0x11e)]),time=filterNumber(abCategory[_0x652637(0x1ab)]),tmp3=abCategory['when'][_0x652637(0x178)]('\x20'),trigger=tmp3[0x0][_0x652637(0x163)]()[_0x652637(0x133)](),trigger=[_0x652637(0x120)]['indexOf'](trigger)>-0x1?'常時':trigger;if(time!=0x64)continue;if($[_0x652637(0x15e)](trigger,[_0x652637(0x1aa),_0x652637(0x143),'常時'])==-0x1)continue;var _0x5b425f=abCategory[_0x652637(0x138)][_0x652637(0x133)](/ダメージ/g,'');_0x5b425f=_0x5b425f['replace'](/属性/g,'');var _0x17b52e=_0x5b425f[_0x652637(0x178)]('と'),_0x49ef67=![],_0x3358c1=![],_0x2693b9=![],_0x3a90a1=[];for(sub of _0x17b52e){if(['全','斬','打','突','熱','冷','雷','陰','陽'][_0x652637(0x182)](sub)>-0x1)_0x2693b9=!![];else{_0x3a90a1[_0x652637(0x19e)](PARAM_KEY[PARAM_NAME[_0x652637(0x182)](sub)]);if(abCategory[_0x652637(0x1c6)]=='敵弱体化(デバフ)')['体力','精神'][_0x652637(0x182)](sub)>-0x1&&(_0x3358c1=!![]);else['腕力',_0x652637(0x15c),'器用さ','知力']['indexOf'](sub)>-0x1&&(_0x49ef67=!![]);}}if(_0x49ef67)BUFF_ABILITY=BUFF_ABILITY['filter'](_0x3f1486=>_0x3f1486[_0x652637(0x110)]!=abInfo['Name']),BUFF_ABILITY[_0x652637(0x19e)]({'NAME':abInfo[_0x652637(0x175)],'PARAM':_0x3a90a1,'TIME':time,'PER':per});else{if(_0x3358c1)DEBUFF_ABILITY=DEBUFF_ABILITY[_0x652637(0x137)](_0x232d8b=>_0x232d8b[_0x652637(0x110)]!=abInfo[_0x652637(0x175)]),DEBUFF_ABILITY['push']({'NAME':abInfo[_0x652637(0x175)],'PARAM':_0x3a90a1,'TIME':time,'PER':per});else{if(_0x2693b9){turn=abCategory[_0x652637(0x115)][_0x652637(0x133)]('効果','')[_0x652637(0x133)]('ターン',''),tmp3=abCategory[_0x652637(0x126)]['split']('\x20'),trigger=tmp3[0x0][_0x652637(0x163)]()[_0x652637(0x133)](),trigger=['味方が全員生存している時'][_0x652637(0x182)](trigger)>-0x1?'常時':trigger;var _0x559f14={'NAME':abInfo['Name'],'ATTR':_0x5b425f,'TIME':time,'PER':filterNumber(abCategory['size']),'TURN':Number(turn),'LIMIT':0x3e8};trigger!='常時'?(GOUREI[trigger]==undefined&&(GOUREI[trigger]=[]),GOUREI[trigger]['push'](_0x559f14)):ALWAYS_ABILITY[_0x652637(0x19e)](_0x559f14);}}}}}}}function setAbilitySelectBox(_0x4c6226){var _0x396c37=_0x5a5564;setAbBox('#ability_list1',_0x4c6226),setAbBox('#ability_list2',_0x4c6226),setAbBox(_0x396c37(0x16b),_0x4c6226),setAbBox(_0x396c37(0x1bd),_0x4c6226);let _0x24f86e=0x0;for(abId of _0x4c6226){var _0x37ce76=ABILITY_MASTER[abId];for(attr of _0x37ce76[_0x396c37(0x16a)]){if(attr['main']=='ダメージ強化'){if(attr[_0x396c37(0x138)]=='常時'||attr[_0x396c37(0x138)]==_0x396c37(0x19b)||attr[_0x396c37(0x138)]==_0x396c37(0x1ae)||attr[_0x396c37(0x138)]==_0x396c37(0x19c)||attr[_0x396c37(0x138)]==_0x396c37(0x1af)||attr[_0x396c37(0x138)]==_0x396c37(0x119)||attr[_0x396c37(0x138)]==_0x396c37(0x191)){}else{var _0x1d4a5e=attr['size'][_0x396c37(0x178)]('(');_0x24f86e+=Number(_0x1d4a5e[0x1]['replace']('%)',''));}}}}$(_0x396c37(0x157))[_0x396c37(0x155)](_0x24f86e);};function setAbBox(_0x5229ce,_0x2e182d){var _0x508a35=_0x5a5564;$(''+_0x5229ce)['val'](0x0),$(_0x5229ce+_0x508a35(0x198))[_0x508a35(0x176)](function(_0x1c9c63){var _0x1f52e5=_0x508a35,_0x4263fb=$(this)[_0x1f52e5(0x121)](_0x1f52e5(0x19a)),_0xbd3592=$(this)['val']();if(_0x2e182d[_0x1f52e5(0x182)](_0x4263fb)>-0x1)return $(this)[_0x1f52e5(0x1c5)](_0x1f52e5(0x1c1),!![]),![];});};